<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product | Desi Protein</title>

  <!-- BASIC SEO -->
  <title>Desi Protein | Fresh Salads & Healthy Juices</title>

  <meta name="description"
    content="Desi Protein offers fresh protein-rich salads and healthy juices made from natural ingredients. Eat fresh, gain strength." />

  <meta name="keywords"
    content="protein salad, sprouts salad, healthy juice, desi protein, gym diet, weight loss food" />

  <meta name="author" content="Desi Protein">
  <meta name="robots" content="index, follow">
  <!-- ================= SOCIAL MEDIA PREVIEW ================= -->

  <!-- Open Graph (Facebook, WhatsApp, LinkedIn) -->
  <meta property="og:title" content="Desi Protein | Fresh Salads & Healthy Juices">
  <meta property="og:description" content="Fresh protein-rich salads & natural juices. Eat clean. Gain strength.">
  <meta property="og:image" content="https://saifalishaikhh.github.io/Desi-Protein/images/brand/social-preview.png">
  <meta property="og:url" content="https://saifalishaikhh.github.io/Desi-Protein/">
  <meta property="og:type" content="website">

  <!-- Twitter Preview -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Desi Protein | Eat Fresh â€¢ Gain Strength">
  <meta name="twitter:description" content="Protein-rich salads & fresh juices made daily.">
  <meta name="twitter:image" content="https://saifalishaikhh.github.io/Desi-Protein/images/brand/social-preview.png">
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4CAF50">

  <!-- iOS support -->
  <link rel="apple-touch-icon" href="images/icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Desi Protein">

  <!-- GLOBAL -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">

  <!-- PRODUCT -->
  <link rel="stylesheet" href="css/product.css">
</head>

<body>

  <!-- ================= HEADER ================= -->
  <header>
    <h1>ðŸ¥— Desi Protein</h1>
    <a href="cart.html" class="cart-icon">
      ðŸ›’ Cart <span id="cartCount" class="cart-count">0</span>
    </a>
  </header>

  <!-- ================= MAIN ================= -->
  <main>
    <div class="product-wrapper" id="productPage"></div>
  </main>

  <!-- ================= FOOTER ================= -->
  <footer>
    <p>Eat Fresh â€¢ Gain Strength ðŸ’ª</p>
    <p>Â© 2025 Desi Protein</p>
  </footer>

  <!-- ================= TOAST ================= -->
  <div id="cartToast" class="cart-toast">
    <span>ðŸ›’</span>
    <span id="toastText"></span>
  </div>

  <!-- ================= SCRIPTS ================= -->
  <script src="js/data.js"></script>
  <script src="js/cart.service.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {

      const id = new URLSearchParams(window.location.search).get("id");
      const product = products.find(p => p.id === id);

      if (!product) {
        document.getElementById("productPage").innerHTML =
          "<h2 style='text-align:center'>Product not found</h2>";
        return;
      }

      let qty = 1;

      /* âœ… AUTO-DETECT PACK & PRICE */
      const packKey = Object.keys(product.prices)[0];   // e.g. 500g / 600g / 200ml
      const price = product.prices[packKey];

      document.getElementById("productPage").innerHTML = `
    <div class="product-main-card">

      <div class="product-image-wrap">
        <img src="${product.image}" alt="${product.name}">
      </div>

      <div class="product-content">
        <h2>${product.name}</h2>

        <div class="pack-row">
          <span>Pack Size</span>
          <strong>${packKey}</strong>
        </div>

        <div class="price-qty-row">
          <div class="product-price">â‚¹${price}</div>

          <div class="qty-box">
            <button onclick="updateQty(-1)">âˆ’</button>
            <strong id="qtyText">1</strong>
            <button onclick="updateQty(1)">+</button>
          </div>
        </div>

        <button class="add-cart-btn" onclick="addItem()">
          Add to Cart ðŸ›’
        </button>
      </div>
    </div>

    <!-- INGREDIENTS -->
    <section class="info-card">
      <h3>Main Ingredients</h3>
      <p>${product.ingredients.main.join(", ")}</p>

      <h4>Fresh Vegetables & Seeds <span>(for taste)</span></h4>
      <p>${product.ingredients.secondary.join(", ") || "â€”"}</p>

      <h4>Natural Seasoning <span>(for taste)</span></h4>
      <p>${product.ingredients.seasoning.join(", ") || "â€”"}</p>
    </section>

    <!-- NUTRITION -->
    <section class="info-card">
      <h3>Nutrition Facts (per ${packKey})</h3>
      <div class="nutrition-grid">
        ${Object.entries(product.nutrition)
          .map(([k, v]) => `<div><strong>${k}</strong><span>${v}</span></div>`)
          .join("")
        }
      </div>
    </section>

    <!-- BENEFITS -->
    <section class="info-card">
      <h3>Daily Consumption Benefits</h3>
      <ul>
        ${product.dailyBenefits.map(b => `<li>${b}</li>`).join("")}
      </ul>
    </section>
  `;

      updateCartCount();

      window.updateQty = (val) => {
        qty = Math.max(1, qty + val);
        document.getElementById("qtyText").innerText = qty;
      };

      window.addItem = () => {
        addToCart(product, packKey, qty);
        updateCartCount();
        showToast(`${product.name} added to cart`);
      };

      function showToast(text) {
        const toast = document.getElementById("cartToast");
        document.getElementById("toastText").innerText = text;
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 2000);
      }
    });
    // for add Dyanamic SEO
    document.title = `${product.name} | Desi Protein`;

    document
      .querySelector('meta[name="description"]')
      ?.setAttribute(
        "content",
        `${product.name} made with fresh natural ingredients. Rich in protein, vitamins & minerals.`
      );

  </script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker Registered"));
    }
  </script>


</body>

</html>
